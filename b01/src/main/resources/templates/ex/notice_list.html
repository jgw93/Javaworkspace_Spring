<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/layout1.html}">
<div layout:fragment="content" id="container">
    <!-- location_area -->
    <div class="location_area customer">
        <div class="box_inner">
            <h2 class="tit_page">TOURIST <span class="in">in</span> TOUR</h2>
            <p class="location">고객센터 <span class="path">/</span> 공지사항</p>
            <ul class="page_menu clear">
                <li><a href="#" class="on">공지사항</a></li>
                <li><a href="#">문의하기</a></li>
            </ul>
        </div>
    </div>
    <!-- //location_area -->

    <!-- bodytext_area -->
    <div class="bodytext_area box_inner">
        <form action="#" class="minisrch_form">
            <fieldset>
                <legend>검색</legend>
                <input type="text" class="tbox" title="검색어를 입력해주세요" placeholder="검색어를 입력해주세요">
                <a href="javascript:;" class="btn_srch">검색</a>
                <a href="/ex/notice_add" class="btn_srch">글쓰기</a>
            </fieldset>
        </form>
        <table class="bbsListTbl" summary="번호,제목,조회수,작성일 등을 제공하는 표">
            <caption class="hdd">공지사항 목록</caption>
            <thead>
            <tr>
                <th scope="col">번호</th>
                <th scope="col">제목</th>
                <th scope="col">조회수</th>
                <th scope="col">작성일</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="notice:${noticeList}">
                <td th:text="${notice.no}"></td>
                <td class="tit_notice"><a th:href="@{/ex/notice_view(no=${notice.no})}">[[${notice.title}]]</a></td>
                <td>[[${notice.count}]]</td>
                <td>[[${#temporals.format(notice.regDate,'yyyy-MM-dd')}]]</td>
            </tr>
            </tbody>
        </table>
        <!-- pagination -->
        <div class="pagination">
            <a href="javascript:;" class="firstpage  pbtn"><img src="/img/btn_firstpage.png" alt="첫 페이지로 이동"></a>
            <a href="javascript:;" class="prevpage  pbtn"><img src="/img/btn_prevpage.png" alt="이전 페이지로 이동"></a>
            <a href="javascript:;"><span class="pagenum currentpage">1</span></a>
            <a href="javascript:;"><span class="pagenum">2</span></a>
            <a href="javascript:;"><span class="pagenum">3</span></a>
            <a href="javascript:;"><span class="pagenum">4</span></a>
            <a href="javascript:;"><span class="pagenum">5</span></a>
            <a href="javascript:;" class="nextpage  pbtn"><img src="/img/btn_nextpage.png" alt="다음 페이지로 이동"></a>
            <a href="javascript:;" class="lastpage  pbtn"><img src="/img/btn_lastpage.png" alt="마지막 페이지로 이동"></a>
        </div>
        <!-- //pagination -->
    </div>
    <!-- //bodytext_area -->
</div>
<!-- //container -->
<script layout:fragment="script" th:inline="javascript">
    document.querySelector(".pagination").addEventListener("click", function (e) {
        e.preventDefault()
        e.stopPropagation()
        const target = e.target
        if (target.tagName !== 'A') {
            return
        }
        const num = target.getAttribute("data-num")
        const formObj = document.querySelector("form")
        formObj.innerHTML += `<input type='hidden' name='page' value='${num}'>`
        formObj.submit()
    }, false)
    document.querySelector(".clearBtn").addEventListener("click", function (e) {
        e.preventDefault()
        e.stopPropagation()
        self.location = '/board/list'
    }, false)

    const result = [[${result}]]
    const modal = new bootstrap.Modal(document.querySelector(".modal"))
    if (result) {
        modal.show()
    }
</script>
</html>